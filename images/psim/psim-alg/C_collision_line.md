---
---

#### Coefficient $C$ for the [advanced treatment of the ball-cushion collision time]({{ site.url }}/2020/12/20/psim-alg/#-ball-cushion-collision-times)

$$
C = 2\,{p_{1y}^{(j)}}^{2}c_x^{(i)}\,a_x^{(i)}-2\,p_{1y}^{(j)}\,{p_{2x}^{(j)}}^{2}a_y^{(i)}-2\,p_{1y}^{(j)}\,{b_z^{(i)}}^{2}p_{2y}^{(j)}+2\,{p_{1y}^{(j)}}^{2}c_z^{(i)}\,a_z^{(i)}-\\
2\,{p_{1y}^{(j)}}^{2}ha_z^{(i)}+2\,c_z^{(i)}\,{p_{2y}^{(j)}}^{2} a_z^{(i)}-2\,h{p_{2y}^{(j)}}^{2}a_z^{(i)}-2\,{b_z^{(i)}}^{2}p_{2x}^{(j)}\,p_{1x}^{(j)}+2\,c_z^{(i)}\,{p_{2x}^{(j)}}^{2}a_z^{(i)}-\\
2\,h{p_{2x}^{(j)}}^{2}a_z^{(i)}+ 2\,{p_{1x}^{(j)}}^{2}c_z^{(i)}\,a_z^{(i)}-2\,{p_{1x}^{(j)}}^{2}ha_z^{(i)}-2\,{p_{1y}^{(j)}}^{2}p_{2x}^{(j)}\,a_x^{(i)}+2\,c_x^{(i)}\,{p_{2y}^{(j)}}^{2}a_x^{(i)}+\\
2\,{p_{1x}^{(j)}}^{2}c_y^{(i)}\,a_y^{(i)}-2\,p_{1x}^{(j)}\,{p_{2y}^{(j)}}^{2}a_x^{(i)}-2\,{p_{1x}^{(j)}}^{2}p_{2y}^{(j)}\,a_y^{(i)}+2\,c_y^{(i)}\,{p_{2x}^{(j)}} ^{2}a_y^{(i)}-\\
2\,{b_x^{(i)}}^{2}p_{2y}^{(j)}\,p_{1y}^{(j)}-2\,p_{1x}^{(j)}\,{b_y^{(i)}}^{2}p_{2x}^{(j)}+{b_x^{(i)}}^{2}{p_{2y}^{(j)}}^{2}+{p_{1x}^{(j)}}^{2}{b_y^{(i)}}^{2}+{b_y^{(i)}}^{2}{p_{2x}^{(j)}}^{2}+\\
{p_{1y}^{(j)}}^{2}{b_x^{(i)}} ^{2}+{p_{1y}^{(j)}}^{2}{b_z^{(i)}}^{2}+{b_z^{(i)}}^{2}{p_{2y}^{(j)}}^{2}+{b_z^{(i)}}^{2}{p_{2x}^{(j)}}^{2}+{p_{1x}^{(j)}}^{2}{b_z^{(i)}}^{2}+\\
2\,b_x^{(i)} \,p_{2y}^{(j)}\,p_{1x}^{(j)}\,b_y^{(i)}-2\,b_x^{(i)}\,p_{2y}^{(j)}\,b_y^{(i)}\,p_{2x}^{(j)}-2\,p_{1x}^{(j)}\,b_y^{(i)}\,p_{1y}^{(j)}\,b_x^{(i)}-\\
4\,p_{1y}^{(j)}\,c_x^{(i)}\,a_x^{(i)}\,p_{2y}^{(j)}-2\,p_{1y}^{(j)}\,c_x^{(i)}\,p_{1x}^{(j)}\,a_y^{(i)}+2\,p_{1y}^{(j)}\,c_x^{(i)}\,a_y^{(i)}\,p_{2x}^{(j)}+\\
2\,p_{1y}^{(j)}\,p_{2x}^{(j)}\,a_x^{(i)}\,p_{2y}^{(j)}+2\,p_{1y}^{(j)}\,p_{2x}^{(j)}\,p_{1x}^{(j)}\,a_y^{(i)}+2 \,c_x^{(i)}\,p_{2y}^{(j)}\,p_{1x}^{(j)}\,a_y^{(i)}-\\
2\,c_x^{(i)}\,p_{2y}^{(j)}\,a_y^{(i)}\,p_{2x}^{(j)}+2\,p_{1x}^{(j)}\,c_y^{(i)}\,a_x^{(i)}\,p_{2y}^{(j)}-4\,p_{1x}^{(j)}\,c_y^{(i)}\,a_y^{(i)}\,p_{2x}^{(j)}-\\
2\,p_{1x}^{(j)}\,c_y^{(i)}\,p_{1y}^{(j)}\,a_x^{(i)}+2\,p_{1x}^{(j)}\,p_{2y}^{(j)}\,a_y^{(i)}\,p_{2x}^{(j)}+2\,p_{1x}^{(j)}\,p_{2y}^{(j)}\,p_{1y}^{(j)}\,a_x^{(i)}-\\
4\,p_{1y}^{(j)}\,c_z^{(i)}\,a_z^{(i)} \,p_{2y}^{(j)}+4\,p_{1y}^{(j)}\,ha_z^{(i)}\,p_{2y}^{(j)}-4\,c_z^{(i)}\,p_{2x}^{(j)} \,p_{1x}^{(j)}\,a_z^{(i)}+4\,hp_{2x}^{(j)}\,p_{1x}^{(j)}\,a_z^{(i)}+\\
2\,b_y^{(i)} \,p_{2x}^{(j)}\,p_{1y}^{(j)}\,b_x^{(i)}-2\,c_y^{(i)}\,p_{2x}^{(j)}\,a_x^{(i)}\,p_{2y}^{(j)}+2\,c_y^{(i)}\,p_{2x}^{(j)}\,p_{1y}^{(j)}\,a_x^{(i)}
\notag
$$

{:.notice}
This equation is derived from [this worksheet]({{ site.url
}}/images/psim/psim-alg/ball_cushion_collision_line.pdf). The latex was generated directly from this
worksheet, and underwent a search and replace to make the variables more aesthetic. But none of this
was written by hand, and none of the calculations were done by hand. The possibility for error is
thus extremely small, and limited to errors in copy-pasting and search-and-replace.
